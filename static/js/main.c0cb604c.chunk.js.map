{"version":3,"sources":["components/Button/Button.module.css","services/images-api.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","App.jsx","index.js"],"names":["module","exports","searchValue","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","inputValue","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","this","type","onChange","autocomplete","autofocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","images","map","id","webformatURL","src","alt","Button","fetchImages","styles","onClick","App","isLoading","onChangeValue","options","imagesApi","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","finally","prevProps","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0cb604c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__34pNe\"};","import axios from \"axios\";\r\n\r\nconst fetchImages = ({ searchValue = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchValue}&page=${currentPage}&per_page=${pageSize}&key=20405936-6e55c763eecf497ab63d5a834`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\n// eslint-disable-next-line\r\nexport default { fetchImages };\r\n","import { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      inputValue: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(this.state);\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const ImageGallery = ({ children }) => {\r\n  return <ul className=\"ImageGallery\">{children}</ul>;\r\n};\r\nexport default ImageGallery;\r\n","// import PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ images }) => {\r\n  return (\r\n    <>\r\n      {images.map(({ id, webformatURL }) => (\r\n        <li key={id} className=\"ImageGalleryItem\">\r\n          <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\n// ImageGalleryItem.propTypes = {\r\n//   images: PropTypes.objectOf ( PropTypes.shape({\r\n//     id: PropTypes.number.isRequired,\r\n//     webformatURL: PropTypes.string.isRequired,\r\n//   })),\r\n// };\r\n\r\nexport default ImageGalleryItem;\r\n","import styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={fetchImages}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport imagesApi from \"./services/images-api\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchValue: \"\",\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchValue !== this.state.searchValue) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeValue = (value) => {\n    this.setState({ searchValue: value, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchValue } = this.state;\n\n    const options = {\n      currentPage,\n      searchValue,\n    };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { images, isLoading } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeValue} />\n        <ImageGallery>\n          <ImageGalleryItem images={images} />\n        </ImageGallery>\n\n        {isLoading && (\n          <div className=\"Loader\">\n            <Loader\n              type=\"Circles\"\n              color=\"#3f51b5\"\n              height={50}\n              width={50}\n              timeout={5000}\n            />\n          </div>\n        )}\n        {images.length > 0 && !isLoading && (\n          <Button fetchImages={this.fetchImages} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}