{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/images-api.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchValue","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","inputValue","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autocomplete","autofocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","images","onShowModal","map","id","webformatURL","largeImageURL","onClick","src","alt","ImageGalleryItemImage","Button","fetchImages","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","App","isLoading","showModal","onChangeValue","options","imagesApi","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","finally","toggleModal","prevProps","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0accfa7b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__36AHd\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__JnkEJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__19zYO\",\"Modal\":\"Modal_Modal__1OrsM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1EIcq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__34pNe\"};","import axios from \"axios\";\r\n\r\nconst fetchImages = ({ searchValue = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchValue}&page=${currentPage}&per_page=${pageSize}&key=20405936-6e55c763eecf497ab63d5a834`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\n// eslint-disable-next-line\r\nexport default { fetchImages };\r\n","import { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      inputValue: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(this.state);\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={styles.ImageGallery}>{children}</ul>;\r\n};\r\nexport default ImageGallery;\r\n","// import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ images, onShowModal }) => {\r\n  return (\r\n    <>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <li\r\n          key={id}\r\n          className={styles.ImageGalleryItem}\r\n          onClick={() => onShowModal(largeImageURL)}\r\n        >\r\n          <img\r\n            src={webformatURL}\r\n            alt=\"\"\r\n            className={styles.ImageGalleryItemImage}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\n// ImageGalleryItem.propTypes = {\r\n//   images: PropTypes.objectOf ( PropTypes.shape({\r\n//     id: PropTypes.number.isRequired,\r\n//     webformatURL: PropTypes.string.isRequired,\r\n//   })),\r\n// };\r\n\r\nexport default ImageGalleryItem;\r\n","import styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={fetchImages}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  status;\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport imagesApi from \"./services/images-api\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchValue: \"\",\n    isLoading: false,\n    showModal: false,\n    largeImageURL: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchValue !== this.state.searchValue) {\n      this.fetchImages();\n    }\n    // if (prevState.images.length < this.state.images.length) {\n    //   window.scrollTo({\n    //     top: document.documentElement.scrollHeight,\n    //     behavior: \"smooth\",\n    //   });\n    // }\n  }\n\n  onChangeValue = (value) => {\n    this.setState({ searchValue: value, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchValue } = this.state;\n\n    const options = {\n      currentPage,\n      searchValue,\n    };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImageURL,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageURL } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeValue} />\n        <ImageGallery>\n          <ImageGalleryItem images={images} onShowModal={this.toggleModal} />\n        </ImageGallery>\n\n        {isLoading && (\n          <div className=\"Loader\">\n            <Loader\n              type=\"Circles\"\n              color=\"#3f51b5\"\n              height={50}\n              width={50}\n              timeout={5000}\n            />\n          </div>\n        )}\n        {images.length > 0 && !isLoading && (\n          <Button fetchImages={this.fetchImages} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2TZFp\",\"SearchForm\":\"Searchbar_SearchForm__3MJmI\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1KfQw\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__WlOrT\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2mdBP\"};"],"sourceRoot":""}